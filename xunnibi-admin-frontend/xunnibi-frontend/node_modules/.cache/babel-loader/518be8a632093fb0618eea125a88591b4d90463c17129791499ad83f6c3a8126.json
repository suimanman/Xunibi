{"ast":null,"code":"import * as echarts from \"echarts\";\nexport default {\n  props: {\n    // 接收父组件传递的团队数据\n    teamData: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      weights: {\n        w1: 1,\n        // 论文初始权重\n        w2: 1,\n        // 竞赛初始权重\n        w3: 1 // 培训初始权重\n      },\n      chart: null\n    };\n  },\n  watch: {\n    // 监听权重变化，实时更新图表\n    weights: {\n      handler: \"updateChart\",\n      deep: true\n    }\n  },\n  mounted() {\n    this.initChart();\n  },\n  methods: {\n    initChart() {\n      const chartDom = this.$refs.chart;\n      this.chart = echarts.init(chartDom);\n      this.updateChart();\n    },\n    updateChart() {\n      const computedData = this.teamData.map(team => {\n        const contribution = team.paper * this.weights.w1 + team.competition * this.weights.w2 + team.training * this.weights.w3;\n        return {\n          name: team.name,\n          contribution\n        };\n      });\n      const option = {\n        title: {\n          text: \"团队贡献度柱状图\"\n        },\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\"\n          }\n        },\n        xAxis: {\n          type: \"category\",\n          data: computedData.map(item => item.name)\n        },\n        yAxis: {\n          type: \"value\"\n        },\n        series: [{\n          name: \"贡献度\",\n          type: \"bar\",\n          data: computedData.map(item => item.contribution),\n          itemStyle: {\n            color: \"#409EFF\"\n          }\n        }]\n      };\n      this.chart.setOption(option);\n    }\n  }\n};","map":{"version":3,"names":["echarts","props","teamData","type","Array","required","data","weights","w1","w2","w3","chart","watch","handler","deep","mounted","initChart","methods","chartDom","$refs","init","updateChart","computedData","map","team","contribution","paper","competition","training","name","option","title","text","tooltip","trigger","axisPointer","xAxis","item","yAxis","series","itemStyle","color","setOption"],"sources":["src/components/TeamChartsConponent.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"input-container\">\n            <div class=\"input-group\">\n                <label for=\"paper-weight\">论文权重：</label>\n                <el-input-number id=\"paper-weight\" v-model=\"weights.w1\" :min=\"0\" :max=\"10\">\n                </el-input-number>\n            </div>\n            <div class=\"input-group\">\n                <label for=\"competition-weight\">竞赛权重：</label>\n                <el-input-number id=\"competition-weight\" v-model=\"weights.w2\" :min=\"0\" :max=\"10\">\n                </el-input-number>\n            </div>\n            <div class=\"input-group\">\n                <label for=\"training-weight\">培训权重：</label>\n                <el-input-number id=\"training-weight\" v-model=\"weights.w3\" :min=\"0\" :max=\"10\">\n                </el-input-number>\n            </div>\n        </div>\n        <div ref=\"chart\" class=\"chart-container\"></div>\n    </div>\n</template>\n\n<script>\nimport * as echarts from \"echarts\";\n\nexport default {\n    props: {\n        // 接收父组件传递的团队数据\n        teamData: {\n            type: Array,\n            required: true\n        }\n    },\n    data() {\n        return {\n            weights: {\n                w1: 1, // 论文初始权重\n                w2: 1, // 竞赛初始权重\n                w3: 1  // 培训初始权重\n            },\n            chart: null\n        };\n    },\n    watch: {\n        // 监听权重变化，实时更新图表\n        weights: {\n            handler: \"updateChart\",\n            deep: true\n        }\n    },\n    mounted() {\n        this.initChart();\n    },\n    methods: {\n        initChart() {\n            const chartDom = this.$refs.chart;\n            this.chart = echarts.init(chartDom);\n            this.updateChart();\n        },\n        updateChart() {\n            const computedData = this.teamData.map((team) => {\n                const contribution =\n                    team.paper * this.weights.w1 +\n                    team.competition * this.weights.w2 +\n                    team.training * this.weights.w3;\n                return { name: team.name, contribution };\n            });\n\n            const option = {\n                title: {\n                    text: \"团队贡献度柱状图\"\n                },\n                tooltip: {\n                    trigger: \"axis\",\n                    axisPointer: { type: \"shadow\" }\n                },\n                xAxis: {\n                    type: \"category\",\n                    data: computedData.map((item) => item.name)\n                },\n                yAxis: {\n                    type: \"value\"\n                },\n                series: [\n                    {\n                        name: \"贡献度\",\n                        type: \"bar\",\n                        data: computedData.map((item) => item.contribution),\n                        itemStyle: { color: \"#409EFF\" }\n                    }\n                ]\n            };\n\n            this.chart.setOption(option);\n        }\n    }\n};\n</script>\n\n<style scoped>\n.chart-container {\n    width: 600px;\n    height: 400px;\n    margin-top: 20px;\n}\n\n.input-container {\n    margin-bottom: 20px;\n    display: inline;\n    gap: 20px;\n    align-items: center;\n}\n</style>"],"mappings":"AAwBA,YAAAA,OAAA;AAEA;EACAC,KAAA;IACA;IACAC,QAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,OAAA;QACAC,EAAA;QAAA;QACAC,EAAA;QAAA;QACAC,EAAA;MACA;MACAC,KAAA;IACA;EACA;EACAC,KAAA;IACA;IACAL,OAAA;MACAM,OAAA;MACAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,MAAAE,QAAA,QAAAC,KAAA,CAAAR,KAAA;MACA,KAAAA,KAAA,GAAAX,OAAA,CAAAoB,IAAA,CAAAF,QAAA;MACA,KAAAG,WAAA;IACA;IACAA,YAAA;MACA,MAAAC,YAAA,QAAApB,QAAA,CAAAqB,GAAA,CAAAC,IAAA;QACA,MAAAC,YAAA,GACAD,IAAA,CAAAE,KAAA,QAAAnB,OAAA,CAAAC,EAAA,GACAgB,IAAA,CAAAG,WAAA,QAAApB,OAAA,CAAAE,EAAA,GACAe,IAAA,CAAAI,QAAA,QAAArB,OAAA,CAAAG,EAAA;QACA;UAAAmB,IAAA,EAAAL,IAAA,CAAAK,IAAA;UAAAJ;QAAA;MACA;MAEA,MAAAK,MAAA;QACAC,KAAA;UACAC,IAAA;QACA;QACAC,OAAA;UACAC,OAAA;UACAC,WAAA;YAAAhC,IAAA;UAAA;QACA;QACAiC,KAAA;UACAjC,IAAA;UACAG,IAAA,EAAAgB,YAAA,CAAAC,GAAA,CAAAc,IAAA,IAAAA,IAAA,CAAAR,IAAA;QACA;QACAS,KAAA;UACAnC,IAAA;QACA;QACAoC,MAAA,GACA;UACAV,IAAA;UACA1B,IAAA;UACAG,IAAA,EAAAgB,YAAA,CAAAC,GAAA,CAAAc,IAAA,IAAAA,IAAA,CAAAZ,YAAA;UACAe,SAAA;YAAAC,KAAA;UAAA;QACA;MAEA;MAEA,KAAA9B,KAAA,CAAA+B,SAAA,CAAAZ,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}