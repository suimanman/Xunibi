{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      searchQuery: null,\n      teams: [],\n      selectedTeamId: null,\n      dialogVisible: false,\n      newTeam: {\n        teamId: null,\n        teamName: \"\",\n        virtualCoins: 0,\n        creationDate: null\n      },\n      editMode: false\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    handleDialogClose() {\n      this.dialogVisible = false;\n    },\n    async load() {\n      try {\n        const response = await axios.get('http://localhost:8080/team/list');\n        if (response.status === 200 && response.data) {\n          this.teams = response.data;\n        }\n      } catch (error) {\n        console.error(\"加载数据失败:\", error);\n      }\n    },\n    async search() {\n      if (!this.searchQuery) {\n        this.$message.error('请输入团队ID');\n        return;\n      }\n      try {\n        const response = await axios.get(`http://localhost:8080/team/${this.searchQuery}`);\n        if (response.status === 200 && response.data) {\n          this.teams = [response.data];\n        } else if (!response.data) {\n          this.$message.error(\"没有这支团队\");\n        }\n      } catch (error) {\n        this.$message.error(\"查询失败\");\n        console.error(\"查询失败:\", error);\n      }\n    },\n    reset() {\n      this.searchQuery = '';\n      this.load();\n    },\n    handleAdd() {\n      this.newTeam = {\n        teamId: null,\n        teamName: \"\",\n        virtualCoins: 0,\n        creationDate: null\n      };\n      this.editMode = false;\n      this.dialogVisible = true;\n    },\n    async del(teamId) {\n      try {\n        await axios.delete(`http://localhost:8080/team/delete/${teamId}`);\n        this.load();\n      } catch (error) {\n        console.error(\"删除失败:\", error);\n      }\n    },\n    handleEdit(row) {\n      this.newTeam = {\n        ...row\n      };\n      this.editMode = true;\n      this.dialogVisible = true;\n    },\n    async saveTeam() {\n      try {\n        if (this.editMode) {\n          await axios.put(`http://localhost:8080/team/update/${this.newTeam.teamId}`, this.newTeam);\n          this.$message.success(\"更新成功\");\n        } else {\n          await axios.post('http://localhost:8080/team/create', this.newTeam);\n          this.$message.success(\"新增成功\");\n        }\n        this.dialogVisible = false;\n        this.load();\n      } catch (error) {\n        this.$message.error(this.editMode ? \"更新失败\" : \"新增失败\");\n        console.error(this.editMode ? \"更新失败\" : \"新增失败\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","searchQuery","teams","selectedTeamId","dialogVisible","newTeam","teamId","teamName","virtualCoins","creationDate","editMode","created","load","methods","handleDialogClose","response","get","status","error","console","search","$message","reset","handleAdd","del","delete","handleEdit","row","saveTeam","put","success","post"],"sources":["src/views/manage/TeamView.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- 搜索框区域 -->\n        <div class=\"search\">\n            <el-input v-model=\"searchQuery\" placeholder=\"请输入团队ID查询\" style=\"width: 200px;\"></el-input>\n            <el-button type=\"info\" plain style=\"margin-left: 10px\" @click=\"search\">查询</el-button>\n            <el-button type=\"warning\" plain style=\"margin-left: 10px\" @click=\"reset\">重置</el-button>\n            <el-button type=\"primary\" plain @click=\"handleAdd\">新增</el-button>\n        </div>\n\n        <!-- 表格区域 -->\n        <div class=\"table\">\n            <el-table :data=\"teams\" @selection-change=\"handleSelectionChange\" stripe>\n                <el-table-column prop=\"teamId\" label=\"团队ID\" sortable></el-table-column>\n                <el-table-column prop=\"teamName\" label=\"团队名称\"></el-table-column>\n                <el-table-column prop=\"virtualCoins\" label=\"虚拟币数量\"></el-table-column>\n                <el-table-column prop=\"creationDate\" label=\"入住日期\"></el-table-column>\n                <el-table-column label=\"操作\" width=\"180px\">\n                    <template v-slot=\"scope\">\n                        <el-button size=\"mini\" type=\"primary\" plain @click=\"handleEdit(scope.row)\">编辑</el-button>\n                        <el-button size=\"mini\" type=\"danger\" plain @click=\"del(scope.row.teamId)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n\n        <!-- 编辑/新增对话框 -->\n        <el-dialog :title=\"editMode ? '编辑团队' : '新增团队'\" :visible=\"dialogVisible\" @close=\"handleDialogClose\">\n            <el-form :model=\"newTeam\">\n                <el-form-item label=\"团队名称\">\n                    <el-input v-model=\"newTeam.teamName\" placeholder=\"请输入团队名称\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"虚拟币数量\">\n                    <el-input v-model=\"newTeam.virtualCoins\" type=\"number\" placeholder=\"请输入虚拟币数量\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"入住日期\">\n                    <el-date-picker v-model=\"newTeam.creationDate\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\n                <el-button type=\"primary\" @click=\"saveTeam\">保存</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            searchQuery: null,\n            teams: [],\n            selectedTeamId: null,\n            dialogVisible: false,\n            newTeam: {\n                teamId: null,\n                teamName: \"\",\n                virtualCoins: 0,\n                creationDate: null,\n            },\n            editMode: false,\n        };\n    },\n    created() {\n        this.load();\n    },\n    methods: {\n        handleDialogClose() {\n            this.dialogVisible = false;\n        },\n        async load() {\n            try {\n                const response = await axios.get('http://localhost:8080/team/list');\n                if (response.status === 200 && response.data) {\n                    this.teams = response.data;\n                }\n            } catch (error) {\n                console.error(\"加载数据失败:\", error);\n            }\n        },\n        async search() {\n            if (!this.searchQuery) {\n                this.$message.error('请输入团队ID');\n                return;\n            }\n            try {\n                const response = await axios.get(`http://localhost:8080/team/${this.searchQuery}`);\n                if (response.status === 200 && response.data) {\n                    this.teams = [response.data];\n                } else if (!response.data) {\n                    this.$message.error(\"没有这支团队\");\n                }\n            } catch (error) {\n                this.$message.error(\"查询失败\");\n                console.error(\"查询失败:\", error);\n            }\n        },\n        reset() {\n            this.searchQuery = '';\n            this.load();\n        },\n        handleAdd() {\n            this.newTeam = { teamId: null, teamName: \"\", virtualCoins: 0, creationDate: null };\n            this.editMode = false;\n            this.dialogVisible = true;\n        },\n        async del(teamId) {\n            try {\n                await axios.delete(`http://localhost:8080/team/delete/${teamId}`);\n                this.load();\n            } catch (error) {\n                console.error(\"删除失败:\", error);\n            }\n        },\n        handleEdit(row) {\n            this.newTeam = { ...row };\n            this.editMode = true;\n            this.dialogVisible = true;\n        },\n        async saveTeam() {\n            try {\n                if (this.editMode) {\n                    await axios.put(`http://localhost:8080/team/update/${this.newTeam.teamId}`, this.newTeam);\n                    this.$message.success(\"更新成功\");\n                } else {\n                    await axios.post('http://localhost:8080/team/create', this.newTeam);\n                    this.$message.success(\"新增成功\");\n                }\n                this.dialogVisible = false;\n                this.load();\n            } catch (error) {\n                this.$message.error(this.editMode ? \"更新失败\" : \"新增失败\");\n                console.error(this.editMode ? \"更新失败\" : \"新增失败\", error);\n            }\n        }\n    },\n};\n</script>\n<style scoped>\n.search {\n    margin-bottom: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.search .el-button {\n    margin-left: 10px;\n}\n\n.table {\n    margin-top: 20px;\n}\n\n.el-table {\n    width: 100%;\n    border-radius: 5px;\n    overflow: hidden;\n}\n\n.el-table th {\n    background-color: #f4f7fc;\n}\n\n.el-dialog .el-form-item {\n    margin-bottom: 20px;\n}\n\n.dialog-footer {\n    display: flex;\n    justify-content: flex-end;\n}\n\n.el-button--primary {\n    background-color: #409EFF;\n    border-color: #409EFF;\n}\n\n.el-button--primary:hover {\n    background-color: #66b1ff;\n    border-color: #66b1ff;\n}\n\n.el-button--warning {\n    background-color: #f56c6c;\n    border-color: #f56c6c;\n}\n\n.el-button--warning:hover {\n    background-color: #f78989;\n    border-color: #f78989;\n}\n</style>\n"],"mappings":"AA+CA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,KAAA;MACAC,cAAA;MACAC,aAAA;MACAC,OAAA;QACAC,MAAA;QACAC,QAAA;QACAC,YAAA;QACAC,YAAA;MACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAC,kBAAA;MACA,KAAAV,aAAA;IACA;IACA,MAAAQ,KAAA;MACA;QACA,MAAAG,QAAA,SAAAhB,KAAA,CAAAiB,GAAA;QACA,IAAAD,QAAA,CAAAE,MAAA,YAAAF,QAAA,CAAAf,IAAA;UACA,KAAAE,KAAA,GAAAa,QAAA,CAAAf,IAAA;QACA;MACA,SAAAkB,KAAA;QACAC,OAAA,CAAAD,KAAA,YAAAA,KAAA;MACA;IACA;IACA,MAAAE,OAAA;MACA,UAAAnB,WAAA;QACA,KAAAoB,QAAA,CAAAH,KAAA;QACA;MACA;MACA;QACA,MAAAH,QAAA,SAAAhB,KAAA,CAAAiB,GAAA,oCAAAf,WAAA;QACA,IAAAc,QAAA,CAAAE,MAAA,YAAAF,QAAA,CAAAf,IAAA;UACA,KAAAE,KAAA,IAAAa,QAAA,CAAAf,IAAA;QACA,YAAAe,QAAA,CAAAf,IAAA;UACA,KAAAqB,QAAA,CAAAH,KAAA;QACA;MACA,SAAAA,KAAA;QACA,KAAAG,QAAA,CAAAH,KAAA;QACAC,OAAA,CAAAD,KAAA,UAAAA,KAAA;MACA;IACA;IACAI,MAAA;MACA,KAAArB,WAAA;MACA,KAAAW,IAAA;IACA;IACAW,UAAA;MACA,KAAAlB,OAAA;QAAAC,MAAA;QAAAC,QAAA;QAAAC,YAAA;QAAAC,YAAA;MAAA;MACA,KAAAC,QAAA;MACA,KAAAN,aAAA;IACA;IACA,MAAAoB,IAAAlB,MAAA;MACA;QACA,MAAAP,KAAA,CAAA0B,MAAA,sCAAAnB,MAAA;QACA,KAAAM,IAAA;MACA,SAAAM,KAAA;QACAC,OAAA,CAAAD,KAAA,UAAAA,KAAA;MACA;IACA;IACAQ,WAAAC,GAAA;MACA,KAAAtB,OAAA;QAAA,GAAAsB;MAAA;MACA,KAAAjB,QAAA;MACA,KAAAN,aAAA;IACA;IACA,MAAAwB,SAAA;MACA;QACA,SAAAlB,QAAA;UACA,MAAAX,KAAA,CAAA8B,GAAA,2CAAAxB,OAAA,CAAAC,MAAA,SAAAD,OAAA;UACA,KAAAgB,QAAA,CAAAS,OAAA;QACA;UACA,MAAA/B,KAAA,CAAAgC,IAAA,2CAAA1B,OAAA;UACA,KAAAgB,QAAA,CAAAS,OAAA;QACA;QACA,KAAA1B,aAAA;QACA,KAAAQ,IAAA;MACA,SAAAM,KAAA;QACA,KAAAG,QAAA,CAAAH,KAAA,MAAAR,QAAA;QACAS,OAAA,CAAAD,KAAA,MAAAR,QAAA,oBAAAQ,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}