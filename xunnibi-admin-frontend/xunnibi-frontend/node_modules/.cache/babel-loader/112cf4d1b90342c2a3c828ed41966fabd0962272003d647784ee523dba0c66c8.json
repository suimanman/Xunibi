{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { Message } from \"element-ui\";\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      loginRules: {\n        username: [{\n          required: true,\n          message: \"请输入账号\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }]\n      },\n      loading: false // 登录加载状态\n    };\n  },\n  methods: {\n    toRegister() {\n      this.$router.push({\n        path: \"/toRegister\"\n      });\n    },\n    async handleLogin() {\n      this.$refs.loginFormRef.validate(async valid => {\n        if (!valid) return;\n        this.loading = true; // 开启加载状态\n        try {\n          const response = await axios.post(\"http://localhost:8080/login\", {\n            username: this.loginForm.username,\n            password: this.loginForm.password\n          });\n          Message.success(\"登录成功！\");\n          this.$router.push({\n            path: \"/\"\n          }); // 跳转到首页\n        } catch (error) {\n          Message.error(error.response?.data?.message || \"登录失败，请重试！\");\n        } finally {\n          this.loading = false; // 关闭加载状态\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Message","name","data","loginForm","username","password","loginRules","required","message","trigger","loading","methods","toRegister","$router","push","path","handleLogin","$refs","loginFormRef","validate","valid","response","post","success","error"],"sources":["src/views/LoginView.vue"],"sourcesContent":["<template>\n    <div class=\"login-body\">\n        <div class=\"login-container\">\n            <el-card class=\"login-card\" shadow=\"hover\">\n                <template #header>\n                    <div class=\"card-header\">管理员登录</div>\n                </template>\n                <div class=\"login-form\">\n                    <el-form ref=\"loginFormRef\" v-model=\"loginForm\" :rules=\"loginRules\" label-width=\"100px\">\n                        <el-form-item label=\"账号：\" prop=\"username\">\n                            <el-input type=\"text\" v-model=\"loginForm.username\" placeholder=\"请输入账号\" clearable />\n                        </el-form-item>\n                        <el-form-item label=\"密码：\" prop=\"password\">\n                            <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\" show-password />\n                        </el-form-item>\n                        <el-form-item>\n                            <el-row type=\"flex\" justify=\"space-between\" align=\"middle\">\n                                <el-col>\n                                    <el-button type=\"primary\" :loading=\"loading\" @click=\"handleLogin\">\n                                        登录\n                                    </el-button>\n                                </el-col>\n                                <el-col>\n                                    <a class=\"register-link\" @click=\"toRegister\">\n                                        还没有账号? 点击注册\n                                    </a>\n                                </el-col>\n                            </el-row>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </el-card>\n        </div>\n    </div>\n</template>\n<style scoped>\n.login-body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    background-color: #f5f7fa;\n}\n\n.login-container {\n    width: 400px;\n}\n\n.login-card {\n    padding: 20px;\n    border-radius: 10px;\n}\n\n.card-header {\n    text-align: center;\n    font-size: 20px;\n    font-weight: bold;\n    color: #333;\n}\n\n.login-form {\n    margin-top: 20px;\n}\n\n.register-link {\n    color: #409eff;\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n.register-link:hover {\n    color: #66b1ff;\n}\n</style>\n<script>\nimport axios from \"axios\";\nimport { Message } from \"element-ui\";\n\nexport default {\n    name: \"LoginView\",\n    data() {\n        return {\n            loginForm: {\n                username: \"\",\n                password: \"\",\n            },\n            loginRules: {\n                username: [\n                    { required: true, message: \"请输入账号\", trigger: \"blur\" },\n                ],\n                password: [\n                    { required: true, message: \"请输入密码\", trigger: \"blur\" },\n                ],\n            },\n            loading: false, // 登录加载状态\n        };\n    },\n    methods: {\n        toRegister() {\n            this.$router.push({ path: \"/toRegister\" });\n        },\n        async handleLogin() {\n            this.$refs.loginFormRef.validate(async (valid) => {\n                if (!valid) return;\n\n                this.loading = true; // 开启加载状态\n                try {\n                    const response = await axios.post(\n                        \"http://localhost:8080/login\",\n                        {\n                            username: this.loginForm.username,\n                            password: this.loginForm.password,\n                        }\n                    );\n                    Message.success(\"登录成功！\");\n                    this.$router.push({ path: \"/\" }); // 跳转到首页\n                } catch (error) {\n                    Message.error(\n                        error.response?.data?.message || \"登录失败，请重试！\"\n                    );\n                } finally {\n                    this.loading = false; // 关闭加载状态\n                }\n            });\n        },\n    },\n};\n</script>\n"],"mappings":";AA2EA,OAAAA,KAAA;AACA,SAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,UAAA;QACAF,QAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACA,MAAAC,YAAA;MACA,KAAAC,KAAA,CAAAC,YAAA,CAAAC,QAAA,OAAAC,KAAA;QACA,KAAAA,KAAA;QAEA,KAAAV,OAAA;QACA;UACA,MAAAW,QAAA,SAAAtB,KAAA,CAAAuB,IAAA,CACA,+BACA;YACAlB,QAAA,OAAAD,SAAA,CAAAC,QAAA;YACAC,QAAA,OAAAF,SAAA,CAAAE;UACA,CACA;UACAL,OAAA,CAAAuB,OAAA;UACA,KAAAV,OAAA,CAAAC,IAAA;YAAAC,IAAA;UAAA;QACA,SAAAS,KAAA;UACAxB,OAAA,CAAAwB,KAAA,CACAA,KAAA,CAAAH,QAAA,EAAAnB,IAAA,EAAAM,OAAA,eACA;QACA;UACA,KAAAE,OAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}