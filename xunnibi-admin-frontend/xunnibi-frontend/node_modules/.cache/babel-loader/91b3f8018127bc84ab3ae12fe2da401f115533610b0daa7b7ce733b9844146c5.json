{"ast":null,"code":"import \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport axios from \"axios\";\nimport IncomeComponent from \"@/components/IncomeComponent.vue\";\nimport TeamChartsConponent from \"@/components/TeamChartsConponent.vue\";\nimport TeamNumsComponent from \"@/components/TeamNumsComponent.vue\";\nimport * as echarts from \"echarts\";\nexport default {\n  components: {\n    IncomeComponent,\n    TeamChartsConponent,\n    TeamNumsComponent\n  },\n  data() {\n    return {\n      like: true,\n      value1: 4154.564,\n      value2: 1314,\n      title: \"增长人数\",\n      charData: [\n        // ['product', '2012-01', '2013', '2014', '2015', '2016', '2017'],\n        // ['论文', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],\n        // ['竞赛', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],\n        // ['培训', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n        // ['会议', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n      ],\n      charExpData: [\n        // ['product', '2012-01', '2013', '2014', '2015', '2016', '2017'],\n        // ['照相机', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],\n        // ['打印设备', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],\n        // ['其他', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n      ],\n      teamData: [],\n      teamNumsData: []\n    };\n  },\n  created() {\n    // 获取团队总数\n    this.getTeamNums();\n    this.getTeamWithMembers();\n    this.getMemberNums();\n    this.getTeamAchievementSummaries();\n    this.getMonthlySpend();\n  },\n  mounted() {\n    this.getTeamAchievementSummaries();\n    this.getTeamNums();\n    this.getTeamWithMembers();\n    this.getMemberNums();\n    this.getMonthlySpend();\n  },\n  methods: {\n    getTeamNums() {\n      axios.get(\"http://localhost:8080/chart/teamnums\").then(response => {\n        if (response.data.code === 200) {\n          this.value2 = response.data.data; // 更新value2为团队总数\n          // console.log(\"value2:\", response.data)\n        }\n      }).catch(error => {\n        console.error(\"获取团队总数失败\", error);\n      });\n    },\n    getMemberNums() {\n      axios.get(\"http://localhost:8080/chart/usernums\").then(response => {\n        if (response.data.code === 200) {\n          // console.log(\"value:\", response.data)\n          this.value1 = response.data.data; // 更新value1为用户总数\n        }\n      }).catch(error => {\n        console.error(\"获取用户总数失败\", error);\n      });\n    },\n    getTeamWithMembers() {\n      axios.get(\"http://localhost:8080/chart/teamwithmeb\").then(response => {\n        if (response.data.code === 200) {\n          // console.log(response.data);\n          this.teamNumsData = response.data.data.map(item => ({\n            name: item.teamName,\n            personNum: item.teamMemberCount\n          }));\n        }\n      }).catch(error => {\n        console.error(\"获取团队用户数失败\", error);\n      });\n    },\n    getTeamAchievementSummaries() {\n      axios.get(\"http://localhost:8080/chart/teamwithachive\").then(response => {\n        if (response.data.code === 200) {\n          console.log(\"teamdata:\", response.data);\n          this.teamData = response.data.data.map(item => ({\n            name: item.teamName,\n            paper: item.paperCount,\n            competition: item.competitionCount,\n            training: item.otherCount\n          }));\n          console.log(\"this.data:\", this.teamData);\n        }\n      }).catch(error => {\n        console.error(\"获取团队用户数失败\", error);\n      });\n    },\n    getMonthlySpend() {\n      axios.get(\"http://localhost:8080/chart/monwithspend\").then(response => {\n        if (response.data.code === 200) {\n          const rawData = response.data.data;\n          console.log(rawData);\n\n          // 转换数据格式\n          const months = [...new Set(rawData.map(item => item.month))];\n          const categories = [...new Set(rawData.map(item => item.category))];\n\n          // 创建数据集\n          const dataset = [['product', ...months],\n          // 表头：产品类别和月份\n          ...categories.map(category => {\n            return [category, ...months.map(month => {\n              const item = rawData.find(d => d.category === category && d.month === month);\n              return item ? item.amount : 0;\n            })];\n          })];\n          this.charExpData = dataset;\n        }\n      }).catch(error => {\n        console.error(\"获取每月支出数据失败\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","IncomeComponent","TeamChartsConponent","TeamNumsComponent","echarts","components","data","like","value1","value2","title","charData","charExpData","teamData","teamNumsData","created","getTeamNums","getTeamWithMembers","getMemberNums","getTeamAchievementSummaries","getMonthlySpend","mounted","methods","get","then","response","code","catch","error","console","map","item","name","teamName","personNum","teamMemberCount","log","paper","paperCount","competition","competitionCount","training","otherCount","rawData","months","Set","month","categories","category","dataset","find","d","amount"],"sources":["src/views/manage/XunibiView.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"header\">\n            <el-row :gutter=\"20\">\n                <el-col :span=\"6\">\n                    <div class=\"statistic-box\">\n                        <div class=\"title\">入住团队总数</div>\n                        <div class=\"value\">{{ value2 }}</div>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"statistic-box\">\n                        <div class=\"title\">入住总人数</div>\n                        <div class=\"value\">{{ value1 }}</div>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"statistic-box\">\n                        <div class=\"title\">今日签到人数</div>\n                        <div class=\"value\">\n                            <i class=\"el-icon-s-flag\" style=\"color: red\"></i>\n                            {{ value1.toLocaleString(undefined, { minimumFractionDigits: 2 }) }}\n                            <i class=\"el-icon-s-flag\" style=\"color: blue\"></i>\n                        </div>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"statistic-box\">\n                        <div class=\"title\">Feedback</div>\n                        <div class=\"value\">\n                            {{ like ? 521 : 520 }}\n                            <span @click=\"like = !like\" class=\"like\">\n                                <i class=\"el-icon-star-on\" style=\"color:red\" v-show=\"like\"></i>\n                                <i class=\"el-icon-star-off\" v-show=\"!like\"></i>\n                            </span>\n                        </div>\n                    </div>\n                </el-col>\n            </el-row>\n        </div>\n\n        <div class=\"main\">\n\n\n\n            <el-tabs type=\"border-card\">\n                <el-tab-pane label=\"收支数据\">\n\n                    <el-row :gutter=\"15\">\n                        <el-col :span=\"12\">\n                            <div class=\"chart-container\">\n                                <div class=\"chart-title\">收入数据</div>\n                                <IncomeComponent :chartData=\"charData\"></IncomeComponent>\n                            </div>\n                        </el-col>\n                        <el-col :span=\"12\">\n                            <div class=\"chart-container\">\n                                <div class=\"chart-title\">支出数据</div>\n                                <IncomeComponent :chartData=\"charExpData\"></IncomeComponent>\n                            </div>\n                        </el-col>\n                    </el-row>\n\n                </el-tab-pane>\n                <el-tab-pane label=\"团队数据\">\n                    <el-row :gutter=\"15\">\n                        <el-col :span=\"12\">\n                            <div class=\"chart-container\">\n                                <div class=\"chart-title\">团队贡献度可视化</div>\n                                <TeamChartsConponent :teamData=\"teamData\" />\n                            </div>\n                        </el-col>\n                        <el-col :span=\"12\">\n                            <div class=\"chart-container\">\n\n                                <TeamNumsComponent :teamNumsData=\"teamNumsData\">\n                                </TeamNumsComponent>\n                            </div>\n                        </el-col>\n                    </el-row>\n                </el-tab-pane>\n                <el-tab-pane label=\"活动热点\">最多人参加的活动，获得虚拟币最多的活动</el-tab-pane>\n            </el-tabs>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport IncomeComponent from \"@/components/IncomeComponent.vue\";\nimport TeamChartsConponent from \"@/components/TeamChartsConponent.vue\";\nimport TeamNumsComponent from \"@/components/TeamNumsComponent.vue\";\nimport * as echarts from \"echarts\";\n\n\nexport default {\n    components: {\n        IncomeComponent,\n        TeamChartsConponent,\n        TeamNumsComponent\n    },\n    data() {\n\n        return {\n            like: true,\n            value1: 4154.564,\n            value2: 1314,\n            title: \"增长人数\",\n            charData: [\n                // ['product', '2012-01', '2013', '2014', '2015', '2016', '2017'],\n                // ['论文', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],\n                // ['竞赛', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],\n                // ['培训', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n                // ['会议', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n\n            ],\n            charExpData: [\n                // ['product', '2012-01', '2013', '2014', '2015', '2016', '2017'],\n                // ['照相机', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],\n                // ['打印设备', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],\n                // ['其他', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n\n            ],\n\n            teamData: [\n\n            ],\n            teamNumsData: [\n            ]\n        };\n    },\n    created() {\n        // 获取团队总数\n        this.getTeamNums();\n        this.getTeamWithMembers();\n        this.getMemberNums();\n        this.getTeamAchievementSummaries();\n        this.getMonthlySpend()\n    },\n    mounted() {\n        this.getTeamAchievementSummaries();\n        this.getTeamNums();\n        this.getTeamWithMembers();\n        this.getMemberNums();\n        this.getMonthlySpend()\n    },\n    methods: {\n        getTeamNums() {\n            axios.get(\"http://localhost:8080/chart/teamnums\")\n                .then(response => {\n                    if (response.data.code === 200) {\n                        this.value2 = response.data.data;  // 更新value2为团队总数\n                        // console.log(\"value2:\", response.data)\n                    }\n                })\n                .catch(error => {\n                    console.error(\"获取团队总数失败\", error);\n                });\n        },\n        getMemberNums() {\n            axios.get(\"http://localhost:8080/chart/usernums\")\n                .then(response => {\n                    if (response.data.code === 200) {\n                        // console.log(\"value:\", response.data)\n                        this.value1 = response.data.data;  // 更新value1为用户总数\n                    }\n                })\n                .catch(error => {\n                    console.error(\"获取用户总数失败\", error);\n                });\n\n        },\n        getTeamWithMembers() {\n            axios.get(\"http://localhost:8080/chart/teamwithmeb\").then(response => {\n                if (response.data.code === 200) {\n                    // console.log(response.data);\n                    this.teamNumsData = response.data.data.map(item => ({\n                        name: item.teamName,\n                        personNum: item.teamMemberCount\n                    }));\n                }\n            }).catch(error => {\n                console.error(\"获取团队用户数失败\", error)\n            })\n        },\n        getTeamAchievementSummaries() {\n            axios.get(\"http://localhost:8080/chart/teamwithachive\").then(response => {\n                if (response.data.code === 200) {\n                    console.log(\"teamdata:\", response.data);\n\n                    this.teamData = response.data.data.map(item => ({\n                        name: item.teamName,\n                        paper: item.paperCount,\n                        competition: item.competitionCount,\n                        training: item.otherCount,\n                    }))\n                    console.log(\"this.data:\", this.teamData);\n                }\n            }).catch(error => {\n                console.error(\"获取团队用户数失败\", error)\n            })\n        },\n        getMonthlySpend() {\n            axios\n                .get(\"http://localhost:8080/chart/monwithspend\")\n                .then((response) => {\n                    if (response.data.code === 200) {\n                        const rawData = response.data.data;\n                        console.log(rawData)\n\n                        // 转换数据格式\n                        const months = [...new Set(rawData.map(item => item.month))];\n                        const categories = [...new Set(rawData.map(item => item.category))];\n\n                        // 创建数据集\n                        const dataset = [\n                            ['product', ...months], // 表头：产品类别和月份\n                            ...categories.map(category => {\n                                return [\n                                    category,\n                                    ...months.map(month => {\n                                        const item = rawData.find(d => d.category === category && d.month === month);\n                                        return item ? item.amount : 0;\n                                    })\n                                ];\n                            })\n                        ];\n\n                        this.charExpData = dataset;\n                    }\n                })\n                .catch((error) => {\n                    console.error(\"获取每月支出数据失败\", error);\n                });\n        }\n\n\n\n\n\n\n    }\n\n};\n</script>\n<style scoped>\n/* 整体容器 */\nheader,\n.main,\n.footer {\n    margin: 20px;\n}\n\n/* 头部统计数据区域 */\n.statistic-box {\n    background: #fff;\n    border: 1px solid #ddd;\n    padding: 20px;\n    border-radius: 10px;\n    text-align: center;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    transition: all 0.3s ease;\n}\n\n/* 鼠标悬停时增加阴影 */\n.statistic-box:hover {\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);\n}\n\n/* 标题样式 */\n.statistic-box .title {\n    font-size: 18px;\n    font-weight: bold;\n    color: #333;\n    margin-bottom: 10px;\n}\n\n/* 数值样式 */\n.statistic-box .value {\n    font-size: 24px;\n    font-weight: 600;\n    color: #4CAF50;\n    margin-top: 5px;\n}\n\n/* 互动图标的样式 */\n.like {\n    cursor: pointer;\n    font-size: 25px;\n    display: inline-block;\n    margin-top: 10px;\n    transition: transform 0.2s;\n}\n\n/* 鼠标悬停时加上放大效果 */\n.like:hover {\n    transform: scale(1.1);\n}\n\n/* 中间图表区 */\n.main {\n    margin-top: 20px;\n}\n\n/* 使图表的每一块区域有间距 */\n.el-row {\n    margin-bottom: 20px;\n}\n\n/* 在图表块上加上阴影效果 */\n.el-col {\n    padding: 10px;\n}\n\nfooter {\n    text-align: center;\n    color: #777;\n    font-size: 14px;\n    margin-top: 30px;\n}\n\n/* 调整响应式设计，屏幕较小的情况 */\n@media (max-width: 768px) {\n    .statistic-box {\n        margin-bottom: 20px;\n    }\n\n    .el-col {\n        padding: 5px;\n    }\n\n    .main {\n        margin-top: 10px;\n    }\n}\n\n\n\n/* 图表容器样式 */\n.chart-container {\n    background: #fff;\n    border-radius: 10px;\n    padding: 20px;\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n    transition: all 0.3s ease;\n    text-align: center;\n    position: relative;\n}\n\n/* 图表容器的鼠标悬停效果 */\n.chart-container:hover {\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\n}\n\n/* 图表标题样式 */\n.chart-title {\n    font-size: 18px;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 15px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}