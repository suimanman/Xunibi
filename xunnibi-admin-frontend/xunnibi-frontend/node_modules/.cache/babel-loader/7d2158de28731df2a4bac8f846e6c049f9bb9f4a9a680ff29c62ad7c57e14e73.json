{"ast":null,"code":"import * as echarts from \"echarts\";\nexport default {\n  props: {\n    // 接收图表的标题、Y轴数据和系列数据\n    chartTitle: {\n      type: String,\n      default: \"各团队人数汇总\"\n    },\n    teamNumsData: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      chart: null\n    };\n  },\n  mounted() {\n    this.initChart();\n  },\n  watch: {\n    // 当传入的数据发生变化时，更新图表\n    teamNumsData: \"updateChart\"\n  },\n  methods: {\n    initChart() {\n      const chartDom = this.$refs.chart;\n      this.chart = echarts.init(chartDom);\n      this.updateChart();\n    },\n    updateChart() {\n      const names = this.teamNumsData.map(item => item.name);\n      const personNums = this.teamNumsData.map(item => item.personNum);\n      const option = {\n        title: {\n          text: this.chartTitle\n        },\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\"\n          }\n        },\n        legend: {},\n        grid: {\n          left: \"3%\",\n          right: \"4%\",\n          bottom: \"3%\",\n          containLabel: true\n        },\n        xAxis: {\n          type: \"value\",\n          boundaryGap: [0, 0.01]\n        },\n        yAxis: {\n          type: \"category\",\n          data: this.teamNumsData.name\n        },\n        series: this.teamNumsData.personNum\n      };\n      if (this.chart) {\n        this.chart.setOption(option);\n      }\n    }\n  },\n  beforeDestroy() {\n    // 销毁图表实例以释放内存\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n};","map":{"version":3,"names":["echarts","props","chartTitle","type","String","default","teamNumsData","Array","required","data","chart","mounted","initChart","watch","methods","chartDom","$refs","init","updateChart","names","map","item","name","personNums","personNum","option","title","text","tooltip","trigger","axisPointer","legend","grid","left","right","bottom","containLabel","xAxis","boundaryGap","yAxis","series","setOption","beforeDestroy","dispose"],"sources":["src/components/TeamNumsComponent.vue"],"sourcesContent":["<template>\n    <div ref=\"chart\" class=\"chart-container\"></div>\n</template>\n\n<script>\nimport * as echarts from \"echarts\";\n\nexport default {\n    props: {\n        // 接收图表的标题、Y轴数据和系列数据\n        chartTitle: {\n            type: String,\n            default: \"各团队人数汇总\"\n        },\n        teamNumsData: {\n            type: Array,\n            required: true\n        },\n    },\n    data() {\n        return {\n            chart: null\n        };\n    },\n    mounted() {\n        this.initChart();\n    },\n    watch: {\n        // 当传入的数据发生变化时，更新图表\n        teamNumsData: \"updateChart\",\n    },\n    methods: {\n        initChart() {\n            const chartDom = this.$refs.chart;\n            this.chart = echarts.init(chartDom);\n            this.updateChart();\n        },\n        updateChart() {\n            const names = this.teamNumsData.map(item => item.name);\n            const personNums = this.teamNumsData.map(item => item.personNum);\n\n            const option = {\n                title: {\n                    text: this.chartTitle\n                },\n                tooltip: {\n                    trigger: \"axis\",\n                    axisPointer: {\n                        type: \"shadow\"\n                    }\n                },\n                legend: {},\n                grid: {\n                    left: \"3%\",\n                    right: \"4%\",\n                    bottom: \"3%\",\n                    containLabel: true\n                },\n                xAxis: {\n                    type: \"value\",\n                    boundaryGap: [0, 0.01]\n                },\n                yAxis: {\n                    type: \"category\",\n                    data: this.teamNumsData.name\n                },\n                series: this.teamNumsData.personNum\n            };\n\n            if (this.chart) {\n                this.chart.setOption(option);\n            }\n        }\n    },\n    beforeDestroy() {\n        // 销毁图表实例以释放内存\n        if (this.chart) {\n            this.chart.dispose();\n        }\n    }\n};\n</script>\n\n<style scoped>\n.chart-container {\n    width: 100%;\n    height: 400px;\n}\n</style>"],"mappings":"AAKA,YAAAA,OAAA;AAEA;EACAC,KAAA;IACA;IACAC,UAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,YAAA;MACAH,IAAA,EAAAI,KAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,KAAA;IACA;IACAP,YAAA;EACA;EACAQ,OAAA;IACAF,UAAA;MACA,MAAAG,QAAA,QAAAC,KAAA,CAAAN,KAAA;MACA,KAAAA,KAAA,GAAAV,OAAA,CAAAiB,IAAA,CAAAF,QAAA;MACA,KAAAG,WAAA;IACA;IACAA,YAAA;MACA,MAAAC,KAAA,QAAAb,YAAA,CAAAc,GAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,IAAA;MACA,MAAAC,UAAA,QAAAjB,YAAA,CAAAc,GAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAG,SAAA;MAEA,MAAAC,MAAA;QACAC,KAAA;UACAC,IAAA,OAAAzB;QACA;QACA0B,OAAA;UACAC,OAAA;UACAC,WAAA;YACA3B,IAAA;UACA;QACA;QACA4B,MAAA;QACAC,IAAA;UACAC,IAAA;UACAC,KAAA;UACAC,MAAA;UACAC,YAAA;QACA;QACAC,KAAA;UACAlC,IAAA;UACAmC,WAAA;QACA;QACAC,KAAA;UACApC,IAAA;UACAM,IAAA,OAAAH,YAAA,CAAAgB;QACA;QACAkB,MAAA,OAAAlC,YAAA,CAAAkB;MACA;MAEA,SAAAd,KAAA;QACA,KAAAA,KAAA,CAAA+B,SAAA,CAAAhB,MAAA;MACA;IACA;EACA;EACAiB,cAAA;IACA;IACA,SAAAhC,KAAA;MACA,KAAAA,KAAA,CAAAiC,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}