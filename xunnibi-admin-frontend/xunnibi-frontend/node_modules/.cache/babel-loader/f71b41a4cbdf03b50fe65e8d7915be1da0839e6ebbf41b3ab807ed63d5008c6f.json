{"ast":null,"code":"import RentTable from '@/components/RentTable.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    RentTable\n  },\n  data() {\n    return {\n      columns: [{\n        prop: \"type\",\n        label: \"物品名称\"\n      }, {\n        prop: \"coinConsumption\",\n        label: \"虚拟币价格\"\n      }, {\n        prop: \"isAvailable\",\n        label: \"是否可用\",\n        slot: \"isAvailableSlot\"\n      }, {\n        prop: \"teamName\",\n        label: \"租用队伍名称\"\n      }],\n      tableData: []\n    };\n  },\n  methods: {\n    loadTableData() {\n      axios.get(\"/api/items\").then(response => {\n        this.tableData = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    handleSearch(query) {\n      axios.get(\"/api/items\", {\n        params: {\n          query\n        }\n      }).then(response => {\n        this.tableData = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    handleReset() {\n      this.loadTableData();\n    },\n    handleAdd() {\n      this.$message.info(\"新增功能未实现\");\n    },\n    handleEdit(row) {\n      this.$message.info(`编辑 ${row.type}`);\n    },\n    handleDelete(row) {\n      axios.delete(`/api/items/${row.id}`).then(() => {\n        this.$message.success(\"删除成功\");\n        this.loadTableData();\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"删除失败\");\n      });\n    }\n  },\n  mounted() {\n    // this.loadTableData();\n  }\n};","map":{"version":3,"names":["RentTable","axios","components","data","columns","prop","label","slot","tableData","methods","loadTableData","get","then","response","catch","error","console","handleSearch","query","params","handleReset","handleAdd","$message","info","handleEdit","row","type","handleDelete","delete","id","success","mounted"],"sources":["src/views/manage/RentView.vue"],"sourcesContent":["<template>\n\n    <div>\n        <el-tabs type=\"border-card\">\n            <el-tab-pane label=\"工位\">\n                <div>\n                    <RentTable :columns=\"columns\" :data=\"tableData\" @search=\"handleSearch\" @reset=\"handleReset\"\n                        @add=\"handleAdd\" @edit=\"handleEdit\" @delete=\"handleDelete\" />\n                </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"相机\">\n                <RentTable :columns=\"columns\" :data=\"tableData\" @search=\"handleSearch\" @reset=\"handleReset\"\n                    @add=\"handleAdd\" @edit=\"handleEdit\" @delete=\"handleDelete\" />\n            </el-tab-pane>\n            <el-tab-pane label=\"其他设备\">\n\n\n                <RentTable :columns=\"columns\" :data=\"tableData\" @search=\"handleSearch\" @reset=\"handleReset\"\n                    @add=\"handleAdd\" @edit=\"handleEdit\" @delete=\"handleDelete\" />\n            </el-tab-pane>\n        </el-tabs>\n    </div>\n\n\n</template>\n\n\n<script>\nimport RentTable from '@/components/RentTable.vue';\nimport axios from 'axios';\n\nexport default {\n    components: { RentTable },\n    data() {\n        return {\n            columns: [\n                { prop: \"type\", label: \"物品名称\" },\n                { prop: \"coinConsumption\", label: \"虚拟币价格\" },\n                { prop: \"isAvailable\", label: \"是否可用\", slot: \"isAvailableSlot\" },\n                { prop: \"teamName\", label: \"租用队伍名称\" },\n            ],\n            tableData: [],\n        };\n    },\n    methods: {\n        loadTableData() {\n            axios\n                .get(\"/api/items\")\n                .then((response) => {\n                    this.tableData = response.data;\n                })\n                .catch((error) => {\n                    console.error(error);\n                });\n        },\n        handleSearch(query) {\n            axios\n                .get(\"/api/items\", { params: { query } })\n                .then((response) => {\n                    this.tableData = response.data;\n                })\n                .catch((error) => {\n                    console.error(error);\n                });\n        },\n        handleReset() {\n            this.loadTableData();\n        },\n        handleAdd() {\n            this.$message.info(\"新增功能未实现\");\n        },\n        handleEdit(row) {\n            this.$message.info(`编辑 ${row.type}`);\n        },\n        handleDelete(row) {\n            axios\n                .delete(`/api/items/${row.id}`)\n                .then(() => {\n                    this.$message.success(\"删除成功\");\n                    this.loadTableData();\n                })\n                .catch((error) => {\n                    console.error(error);\n                    this.$message.error(\"删除失败\");\n                });\n        },\n    },\n    mounted() {\n        // this.loadTableData();\n    },\n};\n\n\n\n</script>"],"mappings":"AA4BA,OAAAA,SAAA;AACA,OAAAC,KAAA;AAEA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,OAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAF,IAAA;QAAAC,KAAA;MAAA,EACA;MACAE,SAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACAT,KAAA,CACAU,GAAA,eACAC,IAAA,CAAAC,QAAA;QACA,KAAAL,SAAA,GAAAK,QAAA,CAAAV,IAAA;MACA,GACAW,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACAE,aAAAC,KAAA;MACAjB,KAAA,CACAU,GAAA;QAAAQ,MAAA;UAAAD;QAAA;MAAA,GACAN,IAAA,CAAAC,QAAA;QACA,KAAAL,SAAA,GAAAK,QAAA,CAAAV,IAAA;MACA,GACAW,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACAK,YAAA;MACA,KAAAV,aAAA;IACA;IACAW,UAAA;MACA,KAAAC,QAAA,CAAAC,IAAA;IACA;IACAC,WAAAC,GAAA;MACA,KAAAH,QAAA,CAAAC,IAAA,OAAAE,GAAA,CAAAC,IAAA;IACA;IACAC,aAAAF,GAAA;MACAxB,KAAA,CACA2B,MAAA,eAAAH,GAAA,CAAAI,EAAA,IACAjB,IAAA;QACA,KAAAU,QAAA,CAAAQ,OAAA;QACA,KAAApB,aAAA;MACA,GACAI,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;QACA,KAAAO,QAAA,CAAAP,KAAA;MACA;IACA;EACA;EACAgB,QAAA;IACA;EAAA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}