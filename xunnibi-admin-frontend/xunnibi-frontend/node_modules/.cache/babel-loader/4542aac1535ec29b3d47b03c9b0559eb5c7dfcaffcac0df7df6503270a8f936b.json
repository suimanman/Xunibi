{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      searchQuery: null,\n      teams: [],\n      selectedTeamId: null,\n      dialogVisible: false,\n      newTeam: {\n        teamId: null,\n        teamName: \"\",\n        virtualCoins: 0,\n        creationDate: null\n      },\n      editMode: false\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    backToFirst() {\n      this.$router.push({\n        path: '/'\n      });\n    },\n    logout() {\n      window.sessionStorage.clear();\n      this.$router.push({\n        path: 'login'\n      });\n    },\n    async load() {\n      try {\n        const response = await axios.get('http://localhost:8080/team/list');\n        if (response.status === 200 && response.data) {\n          console.log(\"团队列表数据:\", response.data);\n          this.teams = response.data;\n        } else {\n          console.error(\"服务器返回了不符合预期的响应\", response);\n        }\n      } catch (error) {\n        console.error(\"请求错误:\", error);\n      }\n    },\n    async search() {\n      if (!this.searchQuery) {\n        this.$message.error('请输入团队ID');\n        return;\n      }\n      try {\n        const response = await axios.get(`http://localhost:8080/team/${this.searchQuery}`);\n        if (response.status === 200 && response.data) {\n          this.teams = [response.data];\n        } else {\n          this.$message.error(\"没有这支团队\");\n        }\n      } catch (error) {\n        this.$message.error(\"查询失败\");\n        console.error(\"查询失败:\", error);\n      }\n    },\n    reset() {\n      this.searchQuery = '';\n      this.load();\n    },\n    handleAdd() {\n      this.newTeam = {\n        teamId: null,\n        teamName: \"\",\n        virtualCoins: 0,\n        creationDate: null\n      };\n      this.editMode = false;\n      this.dialogVisible = true;\n    },\n    async del(teamId) {\n      try {\n        await axios.delete(`http://localhost:8080/team/delete/${teamId}`);\n        this.load();\n      } catch (error) {\n        console.error(\"删除失败:\", error);\n      }\n    },\n    handleEdit(row) {\n      this.newTeam = {\n        ...row\n      };\n      this.editMode = true;\n      this.dialogVisible = true;\n    },\n    async saveTeam() {\n      try {\n        if (this.editMode) {\n          await axios.put(`http://localhost:8080/team/update/${this.newTeam.teamId}`, this.newTeam);\n          this.$message.success(\"更新成功\");\n        } else {\n          await axios.post('http://localhost:8080/team/create', this.newTeam);\n          this.$message.success(\"新增成功\");\n        }\n        this.dialogVisible = false;\n        this.load();\n      } catch (error) {\n        this.$message.error(this.editMode ? \"更新失败\" : \"新增失败\");\n        console.error(this.editMode ? \"更新失败\" : \"新增失败\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","searchQuery","teams","selectedTeamId","dialogVisible","newTeam","teamId","teamName","virtualCoins","creationDate","editMode","created","load","methods","backToFirst","$router","push","path","logout","window","sessionStorage","clear","response","axios","get","status","console","log","error","search","$message","reset","handleAdd","del","delete","handleEdit","row","saveTeam","put","success","post"],"sources":["src/views/manage/TeamView.vue"],"sourcesContent":["<template>\n    <el-container class=\"home-container\">\n        <el-header>\n            <div class=\"header-left\">\n                <span>团队管理系统</span>\n            </div>\n            <el-button type=\"warning\" plain @click=\"logout\">退出</el-button>\n        </el-header>\n        <el-container>\n            <el-aside width=\"220px\" class=\"menu-container\">\n                <el-menu background-color=\"#4A90E2\" text-color=\"#fff\" active-text-color=\"#ffd04b\" router=\"true\">\n                    <el-menu-item @click=\"backToFirst\">\n                        <i class=\"el-icon-s-home\"></i>\n                        <span>首页</span>\n                    </el-menu-item>\n                    <el-submenu index=\"1\">\n                        <template slot=\"title\">\n                            <i class=\"el-icon-user\"></i>\n                            <span>用户管理</span>\n                        </template>\n                        <el-menu-item index=\"/user\">\n                            <i class=\"el-icon-s-custom\"></i>\n                            <span>用户信息管理</span>\n                        </el-menu-item>\n                        <el-menu-item index=\"/team\">\n                            <i class=\"el-icon-s-cooperation\"></i>\n                            <span>团队信息管理</span>\n                        </el-menu-item>\n                    </el-submenu>\n                    <el-submenu index=\"2\">\n                        <template slot=\"title\">\n                            <i class=\"el-icon-s-goods\"></i>\n                            <span>物品管理</span>\n                        </template>\n                        <el-menu-item index=\"/rent\">\n                            <i class=\"el-icon-s-marketing\"></i>\n                            <span>物品价格管理</span>\n                        </el-menu-item>\n                        <el-menu-item index=\"/return\">\n                            <i class=\"el-icon-document\"></i>\n                            <span>物品租借申请管理</span>\n                        </el-menu-item>\n                    </el-submenu>\n                    <el-menu-item index=\"/crypto\">\n                        <i class=\"el-icon-coin\"></i>\n                        <span>虚拟币信息管理</span>\n                    </el-menu-item>\n                    <el-menu-item index=\"4\">\n                        <i class=\"el-icon-s-management\"></i>\n                        <span>工位租借管理</span>\n                    </el-menu-item>\n                </el-menu>\n            </el-aside>\n            <el-main>\n                <div class=\"search\">\n                    <el-input v-model=\"searchQuery\" placeholder=\"请输入团队id查询\" style=\"width: 220px\"></el-input>\n                    <el-button type=\"info\" plain style=\"margin-left: 10px\" @click=\"search\">查询</el-button>\n                    <el-button type=\"warning\" plain style=\"margin-left: 10px\" @click=\"reset\">重置</el-button>\n                    <el-button type=\"primary\" plain @click=\"handleAdd\">新增</el-button>\n                </div>\n                <div class=\"table\">\n                    <el-table :data=\"teams\" @selection-change=\"handleSelectionChange\" style=\"width: 100%\">\n                        <el-table-column prop=\"teamId\" label=\"团队ID\" sortable></el-table-column>\n                        <el-table-column prop=\"teamName\" label=\"团队名称\"></el-table-column>\n                        <el-table-column prop=\"virtualCoins\" label=\"虚拟币数量\"></el-table-column>\n                        <el-table-column prop=\"creationDate\" label=\"入住日期\"></el-table-column>\n                        <el-table-column label=\"操作\">\n                            <template v-slot=\"scope\">\n                                <el-button size=\"mini\" type=\"primary\" plain\n                                    @click=\"handleEdit(scope.row)\">编辑</el-button>\n                                <el-button size=\"mini\" type=\"danger\" plain @click=\"del(scope.row.teamId)\">删除</el-button>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n\n                <el-dialog :title=\"editMode ? '编辑团队' : '新增团队'\" :visible=\"dialogVisible\" @close=\"handleDialogClose\">\n                    <el-form :model=\"newTeam\">\n                        <el-form-item label=\"团队名称\">\n                            <el-input v-model=\"newTeam.teamName\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"虚拟币数量\">\n                            <el-input v-model=\"newTeam.virtualCoins\" type=\"number\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"入住日期\">\n                            <el-date-picker v-model=\"newTeam.creationDate\" type=\"date\"\n                                placeholder=\"选择日期\"></el-date-picker>\n                        </el-form-item>\n                    </el-form>\n                    <div slot=\"footer\" class=\"dialog-footer\">\n                        <el-button @click=\"dialogVisible = false\">取消</el-button>\n                        <el-button type=\"primary\" @click=\"saveTeam\">保存</el-button>\n                    </div>\n                </el-dialog>\n            </el-main>\n        </el-container>\n    </el-container>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            searchQuery: null,\n            teams: [],\n            selectedTeamId: null,\n            dialogVisible: false,\n            newTeam: {\n                teamId: null,\n                teamName: \"\",\n                virtualCoins: 0,\n                creationDate: null,\n            },\n            editMode: false,\n        };\n    },\n    created() {\n        this.load();\n    },\n    methods: {\n        backToFirst() {\n            this.$router.push({ path: '/' });\n        },\n        logout() {\n            window.sessionStorage.clear();\n            this.$router.push({ path: 'login' });\n        },\n        async load() {\n            try {\n                const response = await axios.get('http://localhost:8080/team/list');\n                if (response.status === 200 && response.data) {\n                    console.log(\"团队列表数据:\", response.data);\n                    this.teams = response.data;\n                } else {\n                    console.error(\"服务器返回了不符合预期的响应\", response);\n                }\n            } catch (error) {\n                console.error(\"请求错误:\", error);\n            }\n        },\n        async search() {\n            if (!this.searchQuery) {\n                this.$message.error('请输入团队ID');\n                return;\n            }\n            try {\n                const response = await axios.get(`http://localhost:8080/team/${this.searchQuery}`);\n                if (response.status === 200 && response.data) {\n                    this.teams = [response.data];\n                } else {\n                    this.$message.error(\"没有这支团队\");\n                }\n            } catch (error) {\n                this.$message.error(\"查询失败\");\n                console.error(\"查询失败:\", error);\n            }\n        },\n        reset() {\n            this.searchQuery = '';\n            this.load();\n        },\n        handleAdd() {\n            this.newTeam = { teamId: null, teamName: \"\", virtualCoins: 0, creationDate: null };\n            this.editMode = false;\n            this.dialogVisible = true;\n        },\n        async del(teamId) {\n            try {\n                await axios.delete(`http://localhost:8080/team/delete/${teamId}`);\n                this.load();\n            } catch (error) {\n                console.error(\"删除失败:\", error);\n            }\n        },\n        handleEdit(row) {\n            this.newTeam = { ...row };\n            this.editMode = true;\n            this.dialogVisible = true;\n        },\n        async saveTeam() {\n            try {\n                if (this.editMode) {\n                    await axios.put(`http://localhost:8080/team/update/${this.newTeam.teamId}`, this.newTeam);\n                    this.$message.success(\"更新成功\");\n                } else {\n                    await axios.post('http://localhost:8080/team/create', this.newTeam);\n                    this.$message.success(\"新增成功\");\n                }\n                this.dialogVisible = false;\n                this.load();\n            } catch (error) {\n                this.$message.error(this.editMode ? \"更新失败\" : \"新增失败\");\n                console.error(this.editMode ? \"更新失败\" : \"新增失败\", error);\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.home-container {\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.el-header {\n    background-color: #4a90e2;\n    padding: 0 20px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    font-size: 20px;\n    color: #fff;\n}\n\n.el-header .header-left {\n    display: flex;\n    align-items: center;\n}\n\n.el-header .header-left span {\n    font-weight: bold;\n    font-size: 22px;\n}\n\n.el-button {\n    font-size: 16px;\n    color: #fff;\n    border-color: #ff6b6b;\n\n    &:hover {\n        background-color: #ff6b6b;\n        color: #fff;\n    }\n}\n\n.menu-container {\n    background-color: #4a90e2;\n    min-width: 220px;\n}\n\n.el-menu {\n    background-color: #4a90e2;\n}\n\n.el-menu-item,\n.el-submenu__title {\n    color: #fff;\n    font-weight: bold;\n\n    &:hover {\n        background-color: #6fa2fd;\n    }\n}\n\n.el-menu-item.is-active,\n.el-submenu__title.is-active {\n    color: #ffd04b;\n    background-color: #6fa2fd;\n}\n\n.el-main {\n    background-color: #f5f6fa;\n    padding: 20px;\n    overflow-y: auto;\n}\n\n.search {\n    margin-bottom: 15px;\n    display: flex;\n    align-items: center;\n}\n\n.table {\n    margin-top: 20px;\n}\n\n.dialog-footer {\n    text-align: right;\n}\n</style>"],"mappings":";AAoGA;EACAA,KAAA;IACA;MACAC,WAAA;MACAC,KAAA;MACAC,cAAA;MACAC,aAAA;MACAC,OAAA;QACAC,MAAA;QACAC,QAAA;QACAC,YAAA;QACAC,YAAA;MACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACAC,OAAA;MACAC,MAAA,CAAAC,cAAA,CAAAC,KAAA;MACA,KAAAN,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACA,MAAAL,KAAA;MACA;QACA,MAAAU,QAAA,SAAAC,KAAA,CAAAC,GAAA;QACA,IAAAF,QAAA,CAAAG,MAAA,YAAAH,QAAA,CAAAtB,IAAA;UACA0B,OAAA,CAAAC,GAAA,YAAAL,QAAA,CAAAtB,IAAA;UACA,KAAAE,KAAA,GAAAoB,QAAA,CAAAtB,IAAA;QACA;UACA0B,OAAA,CAAAE,KAAA,mBAAAN,QAAA;QACA;MACA,SAAAM,KAAA;QACAF,OAAA,CAAAE,KAAA,UAAAA,KAAA;MACA;IACA;IACA,MAAAC,OAAA;MACA,UAAA5B,WAAA;QACA,KAAA6B,QAAA,CAAAF,KAAA;QACA;MACA;MACA;QACA,MAAAN,QAAA,SAAAC,KAAA,CAAAC,GAAA,oCAAAvB,WAAA;QACA,IAAAqB,QAAA,CAAAG,MAAA,YAAAH,QAAA,CAAAtB,IAAA;UACA,KAAAE,KAAA,IAAAoB,QAAA,CAAAtB,IAAA;QACA;UACA,KAAA8B,QAAA,CAAAF,KAAA;QACA;MACA,SAAAA,KAAA;QACA,KAAAE,QAAA,CAAAF,KAAA;QACAF,OAAA,CAAAE,KAAA,UAAAA,KAAA;MACA;IACA;IACAG,MAAA;MACA,KAAA9B,WAAA;MACA,KAAAW,IAAA;IACA;IACAoB,UAAA;MACA,KAAA3B,OAAA;QAAAC,MAAA;QAAAC,QAAA;QAAAC,YAAA;QAAAC,YAAA;MAAA;MACA,KAAAC,QAAA;MACA,KAAAN,aAAA;IACA;IACA,MAAA6B,IAAA3B,MAAA;MACA;QACA,MAAAiB,KAAA,CAAAW,MAAA,sCAAA5B,MAAA;QACA,KAAAM,IAAA;MACA,SAAAgB,KAAA;QACAF,OAAA,CAAAE,KAAA,UAAAA,KAAA;MACA;IACA;IACAO,WAAAC,GAAA;MACA,KAAA/B,OAAA;QAAA,GAAA+B;MAAA;MACA,KAAA1B,QAAA;MACA,KAAAN,aAAA;IACA;IACA,MAAAiC,SAAA;MACA;QACA,SAAA3B,QAAA;UACA,MAAAa,KAAA,CAAAe,GAAA,2CAAAjC,OAAA,CAAAC,MAAA,SAAAD,OAAA;UACA,KAAAyB,QAAA,CAAAS,OAAA;QACA;UACA,MAAAhB,KAAA,CAAAiB,IAAA,2CAAAnC,OAAA;UACA,KAAAyB,QAAA,CAAAS,OAAA;QACA;QACA,KAAAnC,aAAA;QACA,KAAAQ,IAAA;MACA,SAAAgB,KAAA;QACA,KAAAE,QAAA,CAAAF,KAAA,MAAAlB,QAAA;QACAgB,OAAA,CAAAE,KAAA,MAAAlB,QAAA,oBAAAkB,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}