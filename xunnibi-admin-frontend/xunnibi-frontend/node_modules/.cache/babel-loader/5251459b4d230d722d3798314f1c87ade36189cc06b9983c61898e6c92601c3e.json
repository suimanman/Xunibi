{"ast":null,"code":"export default {\n  data() {\n    return {\n      searchQuery: null,\n      tableData: [],\n      // 假数据容器\n      dialogVisible: false,\n      // 控制弹窗显示\n      selectedRow: null,\n      // 当前操作的行数据\n      coinAmount: 0 // 增加的虚拟币数量\n    };\n  },\n  created() {\n    // 生成假数据\n    this.tableData = Array.from({\n      length: 10\n    }).map((_, index) => ({\n      teamId: `T${1000 + index}`,\n      // 假团队ID\n      teamName: `团队${index + 1}`,\n      // 假团队名称\n      material: `材料${index + 1}`,\n      // 假审核材料\n      reviewProcess: index % 3 === 0 ? \"未审核\" : \"审核中\" // 审核进度模拟\n    }));\n  },\n  methods: {\n    fetchAchievementList() {\n      axios.get(\"/achievementList\").then(response => {\n        if (response.data.success) {\n          this.tableData = response.data.data; // 设置待审核成就列表\n        } else {\n          this.$message.error(response.data.message || \"获取待审核列表失败\");\n        }\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"获取待审核列表失败\");\n      });\n    },\n    openDialog(row) {\n      this.selectedRow = row;\n      this.coinAmount = 0;\n      this.dialogVisible = true;\n    },\n    handlePass() {\n      if (!this.selectedRow) return;\n      axios.post(\"review/audit/apporve\", {\n        teamId: this.selectedRow.teamId,\n        coinAmount: this.coinAmount\n      }).then(response => {\n        if (response.data.success) {\n          this.$message.success(\"审核通过成功\");\n          this.dialogVisible = false;\n          this.selectedRow.reviewProcess = \"已通过\"; // 更新状态\n        } else {\n          this.$message.error(response.data.message || \"审核通过失败\");\n        }\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"审核通过失败\");\n      });\n    },\n    handleNoPass(teamId) {\n      axios.post(\"review/audit/reject\", {\n        teamId: teamId\n      }).then(response => {\n        if (response.data.success) {\n          this.$message.success(\"审核不通过成功\");\n        } else {\n          this.$message.error(response.data.message || \"审核不通过失败\");\n        }\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"审核不通过失败\");\n      });\n    },\n    reset() {\n      this.searchQuery = \"\";\n    }\n  }\n};","map":{"version":3,"names":["data","searchQuery","tableData","dialogVisible","selectedRow","coinAmount","created","Array","from","length","map","_","index","teamId","teamName","material","reviewProcess","methods","fetchAchievementList","axios","get","then","response","success","$message","error","message","catch","console","openDialog","row","handlePass","post","handleNoPass","reset"],"sources":["src/views/manage/MaterialReviewView.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"header\">\n            <el-input v-model=\"searchQuery\" placeholder=\"请输入物品名称\" style=\"width: 250px\"></el-input>\n            <el-button type=\"info\" plain @click=\"search\">查询</el-button>\n            <el-button type=\"warning\" plain @click=\"reset\">重置</el-button>\n        </div>\n\n        <div class=\"table-wrapper\">\n            <el-table ref=\"filterTable\" :data=\"tableData\" style=\"width: 100%\" border>\n\n                <el-table-column prop=\"teamId\" label=\"团队Id\" align=\"center\">\n                </el-table-column>\n                <el-table-column prop=\"teamName\" label=\"团队名称\" align=\"center\">\n                </el-table-column>\n                <el-table-column prop=\"material\" label=\"审核材料\" align=\"center\">\n                </el-table-column>\n                <el-table-column prop=\"reviewProcess\" label=\"审核进度\" align=\"center\">\n                </el-table-column>\n                <el-table-column label=\"操作\" align=\"center\">\n                    <template v-slot=\"scope\">\n                        <el-button size=\"mini\" type=\"primary\" plain :disabled=\"scope.row.reviewProcess === '已通过'\"\n                            @click=\"openDialog(scope.row)\">审核通过</el-button>\n                        <el-button size=\"mini\" type=\"danger\" plain\n                            @click=\"handleNoPass(scope.row.teamId)\">审核不通过</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n\n        <!-- 审核通过弹窗 -->\n        <el-dialog title=\"增加虚拟币\" :visible.sync=\"dialogVisible\" width=\"400px\">\n            <div>\n                <el-form>\n                    <el-form-item label=\"增加虚拟币数量\">\n                        <el-input-number v-model=\"coinAmount\" :min=\"0\" :max=\"1000\" label=\"虚拟币\" />\n                    </el-form-item>\n                </el-form>\n            </div>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\n                <el-button type=\"primary\" @click=\"handlePass\">确认</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            searchQuery: null,\n            tableData: [], // 假数据容器\n            dialogVisible: false, // 控制弹窗显示\n            selectedRow: null, // 当前操作的行数据\n            coinAmount: 0, // 增加的虚拟币数量\n        };\n    },\n    created() {\n        // 生成假数据\n        this.tableData = Array.from({ length: 10 }).map((_, index) => ({\n            teamId: `T${1000 + index}`, // 假团队ID\n            teamName: `团队${index + 1}`, // 假团队名称\n            material: `材料${index + 1}`, // 假审核材料\n            reviewProcess: index % 3 === 0 ? \"未审核\" : \"审核中\", // 审核进度模拟\n        }));\n    },\n    methods: {\n        fetchAchievementList() {\n            axios\n                .get(\"/achievementList\")\n                .then((response) => {\n                    if (response.data.success) {\n                        this.tableData = response.data.data; // 设置待审核成就列表\n                    } else {\n                        this.$message.error(response.data.message || \"获取待审核列表失败\");\n                    }\n                })\n                .catch((error) => {\n                    console.error(error);\n                    this.$message.error(\"获取待审核列表失败\");\n                });\n        },\n\n\n\n\n        openDialog(row) {\n            this.selectedRow = row;\n            this.coinAmount = 0;\n            this.dialogVisible = true;\n        },\n        handlePass() {\n            if (!this.selectedRow) return;\n            axios\n                .post(\"review/audit/apporve\", {\n                    teamId: this.selectedRow.teamId,\n                    coinAmount: this.coinAmount,\n                })\n                .then((response) => {\n                    if (response.data.success) {\n                        this.$message.success(\"审核通过成功\");\n                        this.dialogVisible = false;\n                        this.selectedRow.reviewProcess = \"已通过\"; // 更新状态\n                    } else {\n                        this.$message.error(response.data.message || \"审核通过失败\");\n                    }\n                })\n                .catch((error) => {\n                    console.error(error);\n                    this.$message.error(\"审核通过失败\");\n                });\n        },\n        handleNoPass(teamId) {\n            axios\n                .post(\"review/audit/reject\", {\n                    teamId: teamId,\n                })\n                .then((response) => {\n                    if (response.data.success) {\n                        this.$message.success(\"审核不通过成功\");\n                    } else {\n                        this.$message.error(response.data.message || \"审核不通过失败\");\n                    }\n                })\n                .catch((error) => {\n                    console.error(error);\n                    this.$message.error(\"审核不通过失败\");\n                });\n        },\n        reset() {\n            this.searchQuery = \"\";\n        },\n    },\n};\n</script>\n\n<style scoped>\n.container {\n    padding: 20px;\n    background-color: #f9f9f9;\n}\n\n.header {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 15px;\n}\n\n.header .el-input {\n    max-width: 300px;\n}\n\n.table-wrapper {\n    border: 1px solid #e0e0e0;\n    border-radius: 5px;\n    background-color: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    padding: 10px;\n}\n</style>\n"],"mappings":"AAgDA;EACAA,KAAA;IACA;MACAC,WAAA;MACAC,SAAA;MAAA;MACAC,aAAA;MAAA;MACAC,WAAA;MAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAJ,SAAA,GAAAK,KAAA,CAAAC,IAAA;MAAAC,MAAA;IAAA,GAAAC,GAAA,EAAAC,CAAA,EAAAC,KAAA;MACAC,MAAA,aAAAD,KAAA;MAAA;MACAE,QAAA,OAAAF,KAAA;MAAA;MACAG,QAAA,OAAAH,KAAA;MAAA;MACAI,aAAA,EAAAJ,KAAA;IACA;EACA;EACAK,OAAA;IACAC,qBAAA;MACAC,KAAA,CACAC,GAAA,qBACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAtB,IAAA,CAAAuB,OAAA;UACA,KAAArB,SAAA,GAAAoB,QAAA,CAAAtB,IAAA,CAAAA,IAAA;QACA;UACA,KAAAwB,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAAtB,IAAA,CAAA0B,OAAA;QACA;MACA,GACAC,KAAA,CAAAF,KAAA;QACAG,OAAA,CAAAH,KAAA,CAAAA,KAAA;QACA,KAAAD,QAAA,CAAAC,KAAA;MACA;IACA;IAKAI,WAAAC,GAAA;MACA,KAAA1B,WAAA,GAAA0B,GAAA;MACA,KAAAzB,UAAA;MACA,KAAAF,aAAA;IACA;IACA4B,WAAA;MACA,UAAA3B,WAAA;MACAe,KAAA,CACAa,IAAA;QACAnB,MAAA,OAAAT,WAAA,CAAAS,MAAA;QACAR,UAAA,OAAAA;MACA,GACAgB,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAtB,IAAA,CAAAuB,OAAA;UACA,KAAAC,QAAA,CAAAD,OAAA;UACA,KAAApB,aAAA;UACA,KAAAC,WAAA,CAAAY,aAAA;QACA;UACA,KAAAQ,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAAtB,IAAA,CAAA0B,OAAA;QACA;MACA,GACAC,KAAA,CAAAF,KAAA;QACAG,OAAA,CAAAH,KAAA,CAAAA,KAAA;QACA,KAAAD,QAAA,CAAAC,KAAA;MACA;IACA;IACAQ,aAAApB,MAAA;MACAM,KAAA,CACAa,IAAA;QACAnB,MAAA,EAAAA;MACA,GACAQ,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAtB,IAAA,CAAAuB,OAAA;UACA,KAAAC,QAAA,CAAAD,OAAA;QACA;UACA,KAAAC,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAAtB,IAAA,CAAA0B,OAAA;QACA;MACA,GACAC,KAAA,CAAAF,KAAA;QACAG,OAAA,CAAAH,KAAA,CAAAA,KAAA;QACA,KAAAD,QAAA,CAAAC,KAAA;MACA;IACA;IACAS,MAAA;MACA,KAAAjC,WAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}